(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(18),r=n.n(a),s=n(19),o=n(3),u=n(8),i=n.n(u),l=n(0),m=function(e){var t=e.handleSubmit,n=e.name,c=e.setName;return Object(l.jsx)(l.Fragment,{children:Object(l.jsxs)("form",{className:"form",onSubmit:t,children:[Object(l.jsx)("input",{type:"text",name:"name",value:n,onChange:function(e){return c(e.target.value)},required:!0}),Object(l.jsx)("label",{htmlFor:"name",children:"Nom de l'Argonaute"}),Object(l.jsx)("button",{type:"submit",children:"Ajouter"})]})})},j=function(){return Object(l.jsxs)("header",{className:"header",children:[Object(l.jsx)("img",{src:"https://www.wildcodeschool.com/assets/logo_main-e4f3f744c8e717f1b7df3858dce55a86c63d4766d5d9a7f454250145f097c2fe.png",alt:"Wild Code School logo"}),Object(l.jsx)("h1",{children:"Les Argonautes"})]})},b=function(){return Object(l.jsx)("footer",{className:"footer",children:"R\xe9alis\xe9 par Jason en Anthest\xe9rion de l'an 515 avant JC"})},d=function(e){var t=e.alertSuccess,n=e.alertError,c="message__alert",a="";return t?(c+=" message__alert--success",a=t):(c+=" message__alert--error",a=n),Object(l.jsx)("span",{className:c,children:a})},f=function(e){var t=e.name,n=e.deleteMember;return Object(l.jsxs)("li",{onClick:n,children:[t," \u2716"]})},h="";h="";var O=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),u=Object(o.a)(r,2),O=u[0],x=u[1],g=Object(c.useState)(""),p=Object(o.a)(g,2),_=p[0],v=p[1],S=Object(c.useState)(""),N=Object(o.a)(S,2),A=N[0],y=N[1],w=Object(c.useState)(null),C=Object(o.a)(w,2),E=C[0],F=C[1];Object(c.useEffect)((function(){i.a.get("".concat(h,"/api/member")).then((function(e){return a(e.data)})).catch((function(e){return console.log(e)}))}),[]);return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(j,{}),Object(l.jsx)("main",{className:"main",children:Object(l.jsxs)("div",{className:"main__content",children:[Object(l.jsx)("h1",{children:"Ajouter un(e) Argonaute"}),Object(l.jsx)(m,{handleSubmit:function(e){e.preventDefault(),i.a.put("".concat(h,"/api/member"),{name:A}).then((function(e){e.data.errors?(v(e.data.errors),x("")):(a((function(t){return[].concat(Object(s.a)(t),[e.data.member])})),x("".concat(A," a \xe9t\xe9 ajout\xe9 au voyage !")),v("")),E&&clearTimeout(E),F(setTimeout((function(){v(""),x("")}),3e3))})).catch((function(e){return console.log(e)})),y("")},name:A,setName:y}),O||_?Object(l.jsx)(d,{alertSuccess:O,alertError:_}):null,Object(l.jsx)("ul",{className:"main__content__members",children:Array.isArray(n)&&(null===n||void 0===n?void 0:n.length)>0&&n.map((function(e){return Object(l.jsx)(f,{name:e.name,deleteMember:function(){return function(e,t){i.a.delete("".concat(h,"/api/member/").concat(e),{data:{name:t}}).then((function(t){x("".concat(t.data.name," a \xe9t\xe9 supprim\xe9 du voyage !")),v(""),a((function(t){return t.filter((function(t){return t._id!==e}))})),E&&clearTimeout(E),setTimeout((function(){x("")}),3e3)})).catch((function(e){return console.log(e)}))}(e._id,e.name)}},e._id)}))})]})}),Object(l.jsx)(b,{})]})};n(43);r.a.render(Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(O,{})}),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.2719bec2.chunk.js.map