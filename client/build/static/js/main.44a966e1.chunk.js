(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(20),c=n.n(a),s=n(21),o=n(3),u=n.n(o),i=n(9),l=n(5),m=n(10),j=n.n(m),d=n(0),f=function(e){var t=e.handleSubmit,n=e.name,r=e.setName;return Object(d.jsx)(d.Fragment,{children:Object(d.jsxs)("form",{className:"form",onSubmit:t,children:[Object(d.jsx)("input",{type:"text",name:"name",value:n,onChange:function(e){return r(e.target.value)},required:!0}),Object(d.jsx)("label",{htmlFor:"name",children:"Nom de l'Argonaute"}),Object(d.jsx)("button",{type:"submit",children:"Ajouter"})]})})},b=function(){return Object(d.jsxs)("header",{className:"header",children:[Object(d.jsx)("img",{src:"https://www.wildcodeschool.com/assets/logo_main-e4f3f744c8e717f1b7df3858dce55a86c63d4766d5d9a7f454250145f097c2fe.png",alt:"Wild Code School logo"}),Object(d.jsx)("h1",{children:"Les Argonautes"})]})},h=function(){return Object(d.jsx)("footer",{className:"footer",children:"R\xe9alis\xe9 par Jason en Anthest\xe9rion de l'an 515 avant JC"})},O=function(e){var t=e.alertSuccess,n=e.alertError,r="message__alert",a="";return t?(r+=" message__alert--success",a=t):(r+=" message__alert--error",a=n),Object(d.jsx)("span",{className:r,children:a})},p=function(e){var t=e.name,n=e.deleteMember;return Object(d.jsxs)("li",{onClick:n,children:[t," \u2716"]})},x="";x="";var g=function(){var e=Object(r.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],c=Object(r.useState)(""),o=Object(l.a)(c,2),m=o[0],g=o[1],v=Object(r.useState)(""),_=Object(l.a)(v,2),w=_[0],N=_[1],S=Object(r.useState)(""),y=Object(l.a)(S,2),A=y[0],k=y[1];Object(r.useEffect)((function(){var e=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.get("".concat(x,"/api/member")).then((function(e){console.log(e.data),a(e.data)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]);return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(b,{}),Object(d.jsx)("main",{className:"main",children:Object(d.jsxs)("div",{className:"main__content",children:[Object(d.jsx)("h1",{children:"Ajouter un(e) Argonaute"}),Object(d.jsx)(f,{handleSubmit:function(e){e.preventDefault();var t=function(){var e=Object(i.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j.a.put("".concat(x,"/api/member"),{name:A}).then((function(e){e.data.errors?(N(e.data.errors),g("")):(a((function(t){return[].concat(Object(s.a)(t),[e.data.member])})),g("".concat(A," a \xe9t\xe9 ajout\xe9")),N("")),setTimeout((function(){N(""),g("")}),3e3)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t(),k("")},name:A,setName:k}),m||w?Object(d.jsx)(O,{alertSuccess:m,alertError:w}):null,Object(d.jsx)("ul",{className:"main__content__members",children:Array.isArray(n)&&(null===n||void 0===n?void 0:n.length)>0&&n.map((function(e){return Object(d.jsx)(p,{name:e.name,deleteMember:function(){return function(e,t){var n=function(){var n=Object(i.a)(u.a.mark((function n(){return u.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j.a.delete("".concat(x,"/api/member/").concat(e),{data:{name:t}}).then((function(t){t.data.message&&(g(t.data.message),N(""),a((function(t){return t.filter((function(t){return t._id!==e}))})),setTimeout((function(){g("")}),3e3))}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();n()}(e._id,e.name)}},e._id)}))})]})}),Object(d.jsx)(h,{})]})};n(46);c.a.render(Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(g,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.44a966e1.chunk.js.map