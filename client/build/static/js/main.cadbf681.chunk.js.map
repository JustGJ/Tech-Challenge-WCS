{"version":3,"sources":["components/Form.tsx","components/Header.tsx","components/Footer.tsx","components/AlertResult.tsx","components/Member.tsx","config/config.ts","App.tsx","index.tsx"],"names":["Form","handleSubmit","name","setName","className","onSubmit","type","value","onChange","e","target","required","htmlFor","Header","src","alt","Footer","AlertResult","alertSuccess","alertError","style","content","Member","deleteMember","onClick","API_URL","App","useState","members","setMembers","setAlertSuccess","setAlertError","useEffect","fetchMembers","a","axios","get","then","res","console","log","data","catch","err","preventDefault","newMember","put","errors","old","member","setTimeout","Array","isArray","length","map","id","delete","message","filter","m","_id","handleDeleteMember","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.cadbf681.chunk.js","sourcesContent":["import React from 'react';\r\n\r\ninterface IProps {\r\n    handleSubmit: any;\r\n    name: any | String;\r\n    setName: React.Dispatch<React.SetStateAction<string>>;\r\n}\r\n\r\nconst Form = ({ handleSubmit, name, setName }: IProps) => {\r\n    return (\r\n        <>\r\n            <form className=\"form\" onSubmit={handleSubmit}>\r\n                {/* <br /> */}\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"name\"\r\n                    value={name}\r\n                    onChange={(e) => setName(e.target.value)}\r\n                    required\r\n                />\r\n                <label htmlFor=\"name\">Nom de l'Argonaute</label>\r\n\r\n                <button type=\"submit\">Ajouter</button>\r\n            </form>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Form;\r\n","import React from 'react';\r\n\r\nconst Header = () => {\r\n    return (\r\n        <header className=\"header\">\r\n            <img\r\n                src=\"https://www.wildcodeschool.com/assets/logo_main-e4f3f744c8e717f1b7df3858dce55a86c63d4766d5d9a7f454250145f097c2fe.png\"\r\n                alt=\"Wild Code School logo\"\r\n            />\r\n            <h1>Les Argonautes</h1>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default Header;\r\n","import React from 'react';\r\n\r\nconst Footer = () => {\r\n    return (\r\n        <footer className=\"footer\">Réalisé par Jason en Anthestérion de l'an 515 avant JC</footer>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\n\r\ninterface IProps {\r\n    alertSuccess: string;\r\n    alertError: string;\r\n}\r\n\r\nconst AlertResult = ({ alertSuccess, alertError }: IProps) => {\r\n    let style = 'message__alert';\r\n    let content = '';\r\n\r\n    if (alertSuccess) {\r\n        style += ' message__alert--success';\r\n        content = alertSuccess;\r\n    } else {\r\n        style += ' message__alert--error';\r\n        content = alertError;\r\n    }\r\n\r\n    return <span className={style}>{content}</span>;\r\n};\r\n\r\nexport default AlertResult;\r\n","import React from 'react';\r\n\r\ninterface IProps {\r\n    name: string;\r\n    deleteMember: (event: React.MouseEvent<HTMLElement>) => void;\r\n}\r\n\r\nconst Member = ({ name, deleteMember }: IProps) => {\r\n    return <li onClick={deleteMember}>{name} &#10006;</li>;\r\n};\r\n\r\nexport default Member;\r\n","export let API_URL = '';\r\n\r\nif (process.env.NODE_ENV === 'production') {\r\n    API_URL = '';\r\n} else if (process.env.NODE_ENV === 'development') {\r\n    API_URL = 'http://localhost:8000';\r\n}\r\n","import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport Form from './components/Form';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport { isEmpty } from './components/utils';\nimport AlertResult from './components/AlertResult';\nimport Member from './components/Member';\nimport { API_URL } from './config/config';\n\nconst App = () => {\n    const [members, setMembers] = useState<any[]>([]); // all data\n    const [alertSuccess, setAlertSuccess] = useState(''); // alert success message\n    const [alertError, setAlertError] = useState(''); // alert error message\n    const [name, setName] = useState(''); // input content\n\n    // Fetch all members\n    useEffect(() => {\n        const fetchMembers = async () => {\n            await axios\n                .get(`${API_URL}/api/member`)\n                .then((res) => {\n                    console.log(res.data);\n\n                    setMembers(res.data);\n                })\n                .catch((err) => console.log(err));\n        };\n        fetchMembers();\n    }, []);\n\n    // Submit member\n    const handleSubmit = (e: HTMLFormElement) => {\n        e.preventDefault();\n        const newMember = async () => {\n            await axios\n                .put(`${API_URL}/api/member`, { name })\n                .then((res) => {\n                    if (res.data.errors) {\n                        setAlertError(res.data.errors);\n                        setAlertSuccess('');\n                    } else {\n                        setMembers((old) => [...old, res.data.member]);\n                        setAlertSuccess(`${name} a été ajouté`);\n                        setAlertError('');\n                    }\n                    setTimeout(() => {\n                        setAlertError('');\n                        setAlertSuccess('');\n                    }, 3000);\n                })\n                .catch((err) => console.log(err));\n        };\n        newMember();\n        setName('');\n    };\n\n    // Delete member\n    const handleDeleteMember = (id: string, name: string) => {\n        const deleteMember = async () => {\n            await axios.delete(`${API_URL}/api/member/${id}`, { data: { name } }).then((res) => {\n                if (res.data.message) {\n                    setAlertSuccess(res.data.message);\n                    setAlertError('');\n                    setMembers((old) => old.filter((m) => m._id !== id));\n\n                    setTimeout(() => {\n                        setAlertSuccess('');\n                    }, 3000);\n                }\n            });\n        };\n        deleteMember();\n    };\n    return (\n        <>\n            <Header />\n            <main className=\"main\">\n                <div className=\"main__content\">\n                    <h1>Ajouter un(e) Argonaute</h1>\n\n                    {/* FORM */}\n                    <Form handleSubmit={handleSubmit} name={name} setName={setName} />\n\n                    {/* ALERT MESSAGE */}\n                    {alertSuccess || alertError ? (\n                        <AlertResult alertSuccess={alertSuccess} alertError={alertError} />\n                    ) : null}\n\n                    {/* MEMBERS LIST */}\n                    <ul className=\"main__content__members\">\n                        {Array.isArray(members) &&\n                            members?.length > 0 &&\n                            members.map((member) => {\n                                return (\n                                    <Member\n                                        key={member._id}\n                                        name={member.name}\n                                        deleteMember={() =>\n                                            handleDeleteMember(member._id, member.name)\n                                        }\n                                    />\n                                );\n                            })}\n                    </ul>\n                </div>\n            </main>\n            <Footer />\n        </>\n    );\n};\n\nexport default App;\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\nimport './styles/index.scss';\r\n\r\nReactDOM.render(\r\n    <>\r\n        <App />\r\n    </>,\r\n    document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}